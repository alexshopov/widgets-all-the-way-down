[gd_scene load_steps=16 format=3 uid="uid://bjhkgosvfni1w"]

[ext_resource type="Script" uid="uid://cu8aili04fkba" path="res://scenes/factory/factory.gd" id="1_37mx5"]
[ext_resource type="Script" uid="uid://bykshbi3ggmiw" path="res://scenes/factory/device_manager.gd" id="1_hdo8d"]
[ext_resource type="MeshLibrary" uid="uid://ob23dx00rjek" path="res://assets/models/tiles.tres" id="1_hyk8p"]
[ext_resource type="PackedScene" uid="uid://dpbdoy3m54ft8" path="res://scenes/extractor/extractor.tscn" id="1_w507b"]
[ext_resource type="Script" uid="uid://dfwbw41ymul5l" path="res://scenes/factory/ray_cast_camera.gd" id="2_iuonh"]
[ext_resource type="Script" uid="uid://5c02a2ujsn5u" path="res://scenes/factory/extractor_manager.gd" id="2_kr1kb"]
[ext_resource type="PackedScene" uid="uid://da3vehbrq6dh" path="res://scenes/synthesizer/synthesizer.tscn" id="5_3gw73"]
[ext_resource type="PackedScene" uid="uid://cvldhu14ab2ab" path="res://scenes/miniaturizer/miniaturizer.tscn" id="6_kr1kb"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iuonh"]
albedo_color = Color(0.15382248, 0.07271869, 0.15383935, 1)

[sub_resource type="BoxMesh" id="BoxMesh_iuonh"]
material = SubResource("StandardMaterial3D_iuonh")
size = Vector3(22, 1, 14)

[sub_resource type="Gradient" id="Gradient_hdo8d"]
colors = PackedColorArray(0, 0, 0, 1, 0.15240642, 0.07826757, 0.1368002, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_37mx5"]
gradient = SubResource("Gradient_hdo8d")
fill_from = Vector2(0.53846157, 1)
fill_to = Vector2(0.46153846, 0)

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_3gw73"]
panorama = SubResource("GradientTexture2D_37mx5")

[sub_resource type="Sky" id="Sky_37mx5"]
sky_material = SubResource("PanoramaSkyMaterial_3gw73")

[sub_resource type="Environment" id="Environment_3gw73"]
background_mode = 2
sky = SubResource("Sky_37mx5")
tonemap_mode = 2
glow_enabled = true

[node name="Factory" type="Node3D"]
script = ExtResource("1_37mx5")

[node name="ExtractorManager" type="Node" parent="."]
script = ExtResource("2_kr1kb")

[node name="Extractor" parent="ExtractorManager" node_paths=PackedStringArray("synthesizer") instance=ExtResource("1_w507b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 1)
synthesizer = NodePath("../../SynthesizerManager/Synthesizer")

[node name="SynthesizerManager" type="Node" parent="."]
script = ExtResource("1_hdo8d")

[node name="Synthesizer" parent="SynthesizerManager" instance=ExtResource("5_3gw73")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -3)

[node name="Miniaturizer" parent="." instance=ExtResource("6_kr1kb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0, -8)

[node name="Ground" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, -0.5, -3)
mesh = SubResource("BoxMesh_iuonh")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("1_hyk8p")
cell_size = Vector3(2, 0.1, 2)
cell_center_y = false
data = {
"cells": PackedInt32Array(65535, 0, 0, 0, 0, 1, 1, 0, 0, 2, 0, 0, 3, 0, 0, 3, 1, 0, 1, 1, 0, 0, 1, 0, 2, 1, 0, 65532, 0, 0, 65533, 0, 0, 65534, 0, 0, 65534, 1, 0, 65533, 1, 0, 65532, 1, 0, 65535, 1, 0, 3, 65535, 0, 2, 65535, 0, 1, 65535, 0, 0, 65535, 0, 65535, 65535, 0, 65534, 65535, 0, 65533, 65535, 0, 65532, 65535, 0, 65532, 65534, 0, 65533, 65534, 0, 65534, 65534, 0, 65535, 65534, 0, 0, 65534, 0, 1, 65534, 0, 2, 65534, 0, 3, 65534, 0, 3, 65533, 0, 2, 65533, 0, 1, 65533, 0, 0, 65533, 0, 65535, 65533, 0, 65534, 65533, 0, 65533, 65533, 0, 65532, 65533, 0, 65532, 65532, 0, 65533, 65532, 0, 65534, 65532, 0, 65535, 65532, 0, 0, 65532, 0, 1, 65532, 0, 2, 65532, 0, 3, 65532, 0, 65532, 65531, 0, 65533, 65531, 0, 65534, 65531, 0, 65535, 65531, 0, 0, 65531, 0, 1, 65531, 0, 2, 65531, 0, 3, 65531, 0, 4, 65531, 0, 4, 65532, 0, 4, 65533, 0, 4, 65534, 0, 4, 65535, 0, 4, 0, 0, 4, 1, 0, 65531, 1, 0, 65531, 0, 0, 65531, 65535, 0, 65531, 65534, 0, 65531, 65533, 0, 65531, 65531, 0, 65531, 65532, 0, 5, 1, 0, 5, 0, 0, 5, 65535, 0, 5, 65534, 0, 5, 65533, 0, 5, 65532, 0, 5, 65531, 0)
}

[node name="RayCastCamera" type="Camera3D" parent="." node_paths=PackedStringArray("gridmap")]
transform = Transform3D(1, 0, 0, 0, 0.49999997, 0.86602545, 0, -0.86602545, 0.49999997, 1, 27, 12)
projection = 1
fov = 43.9
size = 17.923
script = ExtResource("2_iuonh")
gridmap = NodePath("../GridMap")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_3gw73")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.99339163, -0.0001998678, -0.114773616, -0.10965438, -0.2936753, 0.9495951, -0.033895962, 0.95590526, 0.29171267, -5.3652744, 4.8981414, 0)
shadow_enabled = true
